(this.webpackJsonptrybetunes=this.webpackJsonptrybetunes||[]).push([[0],{31:function(e,t,a){},34:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),i=a(23),r=a.n(i),c=(a(31),a(11)),o=a(16),l=a(4),u=a(5),d=a(2),b=a(7),h=a(6),j=a(15),p=a(9),f=a(3),v=a.n(f),m=a(8),g=a(0),O=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props.className;return Object(g.jsx)("div",{className:e,children:Object(g.jsx)("p",{children:"Carregando..."})})}}]),a}(s.a.Component),x=O,k="user",y=function(e){return localStorage.setItem(k,JSON.stringify(e))},S=function(e){return function(t){setTimeout((function(){t(e)}),1500)}},P=function(){return new Promise((function(e){var t=JSON.parse(localStorage.getItem(k));null===t&&(t={}),S(t)(e)}))},N=function(e){return new Promise((function(t){y(Object(c.a)(Object(c.a)({},{name:"",email:"",image:"",description:""}),e)),S("OK")(t)}))},C=function(e){return new Promise((function(t){y(Object(c.a)({},e)),S("OK")(t)}))},B=(a(34),a.p+"static/media/logo-trybetunes.a53bfba3.png"),I=a.p+"static/media/headset.34b17c65.png",M=a.p+"static/media/perfil.571faac8.png",D=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={name:"",image:"",loadScreen:!1},e.getLoginName=e.getLoginName.bind(Object(d.a)(e)),e.renderLoadScreen=e.renderLoadScreen.bind(Object(d.a)(e)),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=this.props,t=e.page;(0,e.changePage)(t),this.getLoginName()}},{key:"getLoginName",value:function(){var e=this,t=this.props.disableEnableBtnPage;t(!0),this.setState({loadScreen:!0},Object(m.a)(v.a.mark((function a(){var n,s,i;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,P();case 2:n=a.sent,s=n.name,i=n.image,t(!1),e.setState({name:s,image:i,loadScreen:!1});case 7:case"end":return a.stop()}}),a)}))))}},{key:"renderLoadScreen",value:function(){var e=this.state,t=e.loadScreen,a=e.name;return t?Object(g.jsx)(x,{className:"carregando-user"}):Object(g.jsx)("p",{"data-testid":"header-user-name",children:a})}},{key:"render",value:function(){var e=this.renderLoadScreen,t=this.state.image,a=this.props,n=a.pesquisa,s=a.favoritas,i=a.perfil,r=a.isBtnPageDisabled;return Object(g.jsxs)("header",{"data-testid":"header-component",children:[Object(g.jsxs)("section",{className:"logo-section",children:[Object(g.jsx)("div",{className:"logo-image-div",children:Object(g.jsx)("img",{src:B,alt:"Trybetunes Logo"})}),Object(g.jsxs)("div",{className:"perfil-div",children:[Object(g.jsx)("img",{src:t,alt:"perfil"}),e()]})]}),Object(g.jsxs)("section",{className:"links-section",children:[Object(g.jsx)(j.b,{to:"/search","data-testid":"link-to-search",children:Object(g.jsx)("button",{type:"button",className:n,id:"pesquisa",disabled:r,children:"Pesquisa"})}),Object(g.jsx)(j.b,{to:"/favorites","data-testid":"link-to-favorites",children:Object(g.jsx)("button",{type:"button",className:s,id:"favoritas",disabled:r,children:"Favoritas"})}),Object(g.jsx)(j.b,{to:"/profile","data-testid":"link-to-profile",children:Object(g.jsx)("button",{type:"button",className:i,id:"perfil",disabled:r,children:"Perfil"})})]})]})}}]),a}(s.a.Component),w=function(){var e=Object(m.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://itunes.apple.com/lookup?id=".concat(t,"&entity=song"));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n.results);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=w,E=a(22),T=a(26),q="favorite_songs";JSON.parse(localStorage.getItem(q))||localStorage.setItem(q,JSON.stringify([]));var U=function(){return JSON.parse(localStorage.getItem(q))},L=function(e){return localStorage.setItem(q,JSON.stringify(e))},R=function(e){return function(t){setTimeout((function(){t(e)}),500)}},J=function(){return new Promise((function(e){var t=U();R(t)(e)}))},_=function(e){return new Promise((function(t){if(e){var a=U();L([].concat(Object(T.a)(a),[e]))}R("OK")(t)}))},K=function(e){return new Promise((function(t){var a=U();L(a.filter((function(t){return t.trackId!==e.trackId}))),R("OK")(t)}))},A=(a(43),function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={loadScreen:!1,favoriteMusicCheckbox:!1},e.onChange=e.onChange.bind(Object(d.a)(e)),e.checkFavoriteMusics=e.checkFavoriteMusics.bind(Object(d.a)(e)),e.renderFavoriteIcon=e.renderFavoriteIcon.bind(Object(d.a)(e)),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.checkFavoriteMusics()}},{key:"onChange",value:function(e){var t=this,a=e.target.checked,n=this.props.getFavoriteMusic;this.setState({favoriteMusicCheckbox:a,loadScreen:!0},Object(m.a)(v.a.mark((function e(){var a,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.state.favoriteMusicCheckbox,s=t.props.musicInfo,!a){e.next=8;break}return e.next=5,_(s);case 5:t.setState({loadScreen:!1}),e.next=11;break;case 8:return e.next=10,K(s);case 10:t.setState({loadScreen:!1});case 11:return e.next=13,n();case 13:case"end":return e.stop()}}),e)}))))}},{key:"checkFavoriteMusics",value:function(){var e=this.props,t=e.musicInfo,a=e.favoriteTrackIds,n=t.trackId;a.includes(n)&&this.setState({favoriteMusicCheckbox:!0})}},{key:"renderFavoriteIcon",value:function(){var e=this.state,t=e.favoriteMusicCheckbox,a=e.loadScreen;return t&&!a?Object(g.jsx)(E.b,{}):a?Object(g.jsx)(x,{className:"carregando-music-card"}):Object(g.jsx)(E.a,{})}},{key:"render",value:function(){var e=this.onChange,t=this.renderFavoriteIcon,a=this.props.musicInfo,n=a.trackName,s=a.previewUrl,i=a.trackId,r=a.artworkUrl100,c=this.state.favoriteMusicCheckbox;return Object(g.jsxs)("div",{className:"music-card",children:[Object(g.jsx)("div",{className:"image-div",children:Object(g.jsx)("img",{src:r,alt:n})}),Object(g.jsxs)("div",{className:"audio-track",children:[Object(g.jsx)("audio",{"data-testid":"audio-component",src:s,controls:!0,children:Object(g.jsx)("track",{kind:"captions"})}),Object(g.jsx)("span",{children:n})]}),Object(g.jsxs)("div",{className:"favorite-checkbox",children:[Object(g.jsx)("input",{type:"checkbox",id:i,"data-testid":"checkbox-music-".concat(i),checked:c,onChange:e}),Object(g.jsx)("label",{htmlFor:i,children:t()})]})]})}}]),a}(s.a.Component)),G=(a(44),function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={musics:void 0,favoriteMusics:void 0,awaitGetFavMusics:!0},e.getMusics=e.getMusics.bind(Object(d.a)(e)),e.getFavoriteMusic=e.getFavoriteMusic.bind(Object(d.a)(e)),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getMusics(),this.getFavoriteMusic()}},{key:"getMusics",value:function(){var e=Object(m.a)(v.a.mark((function e(){var t,a,n,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match,a=t.params,n=a.id,e.next=5,F(n);case 5:s=e.sent,this.setState({musics:s});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFavoriteMusic",value:function(){var e=Object(m.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J();case 2:t=e.sent,this.setState({favoriteMusics:t,awaitGetFavMusics:!1});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderMusics",value:function(){var e=this.state,t=e.musics,a=e.awaitGetFavMusics,n=e.favoriteMusics,s=this.getFavoriteMusic;if(t&&!a){var i=t[0],r=i.artworkUrl100,c=i.artistName,o=i.collectionName,l=n.map((function(e){return e.trackId}));return Object(g.jsxs)("section",{className:"musics-result",children:[Object(g.jsx)("section",{className:"album-selected",children:Object(g.jsxs)("div",{className:"album-div",children:[Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:r,alt:o})}),Object(g.jsx)("h2",{"data-testid":"album-name",children:o}),Object(g.jsx)("h3",{"data-testid":"artist-name",children:c})]})}),Object(g.jsx)("section",{className:"music-card-section",children:t.slice(1).map((function(e){return Object(g.jsx)(A,{musicInfo:e,favoriteTrackIds:l,getFavoriteMusic:s},e.trackName)}))})]})}return Object(g.jsx)(x,{className:"carregando-album"})}},{key:"render",value:function(){var e=this.props,t=e.pesquisa,a=e.favoritas,n=e.perfil,s=e.changePage,i=e.isBtnPageDisabled,r=this.props.disableEnableBtnPage,c=this.props.match.url;return Object(g.jsxs)("div",{"data-testid":"page-album",children:[Object(g.jsx)(D,{pesquisa:t,favoritas:a,perfil:n,page:c,changePage:s,isBtnPageDisabled:i,disableEnableBtnPage:r}),this.renderMusics()]})}}]),a}(s.a.Component)),z=G,H=(a(45),function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={favoriteMusics:void 0},e.getFavoriteMusic=e.getFavoriteMusic.bind(Object(d.a)(e)),e.renderFavMusics=e.renderFavMusics.bind(Object(d.a)(e)),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getFavoriteMusic()}},{key:"getFavoriteMusic",value:function(){var e=this;this.setState({favoriteMusics:void 0},Object(m.a)(v.a.mark((function t(){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J();case 2:a=t.sent,e.setState({favoriteMusics:a});case 4:case"end":return t.stop()}}),t)}))))}},{key:"renderFavMusics",value:function(){var e=this.state.favoriteMusics,t=this.getFavoriteMusic;if(e){if(0===e.length)return Object(g.jsx)("section",{className:"no-favorites-section",children:Object(g.jsx)("p",{children:"N\xe3o h\xe1 m\xfasicas favoritas!"})});var a=e.map((function(e){return e.trackId}));return Object(g.jsxs)("section",{className:"favorites-section",children:[Object(g.jsx)("h2",{className:"favorite-musics-title",children:"M\xfasicas Favoritas"}),e.map((function(e){return Object(g.jsx)(A,{musicInfo:e,favoriteTrackIds:a,getFavoriteMusic:t},e.trackName)}))]})}return Object(g.jsx)(x,{className:"carregando-favorites"})}},{key:"render",value:function(){var e=this.renderFavMusics,t=this.props,a=t.pesquisa,n=t.favoritas,s=t.perfil,i=t.changePage,r=t.isBtnPageDisabled,c=this.props.disableEnableBtnPage,o=this.props.match.url;return Object(g.jsxs)("div",{"data-testid":"page-favorites",children:[Object(g.jsx)(D,{pesquisa:a,favoritas:n,perfil:s,page:o,changePage:i,isBtnPageDisabled:r,disableEnableBtnPage:c}),e()]})}}]),a}(s.a.Component)),Q=(a(46),function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={name:"",loadScreen:!1,isBtnDisabled:!0,login:!1},e.handleChange=e.handleChange.bind(Object(d.a)(e)),e.handleClick=e.handleClick.bind(Object(d.a)(e)),e.renderLoadScreen=e.renderLoadScreen.bind(Object(d.a)(e)),e}return Object(u.a)(a,[{key:"handleChange",value:function(e){var t=this,a=e.target.value;this.setState({name:a},(function(){return t.validateBtn()}))}},{key:"handleClick",value:function(e){var t=this;e.preventDefault(),this.setState({loadScreen:!0,isBtnDisabled:!0},Object(m.a)(v.a.mark((function e(){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.state.name,n=M,e.next=4,N({name:a,image:n});case 4:t.setState({loadScreen:!1,login:!0});case 5:case"end":return e.stop()}}),e)}))))}},{key:"validateBtn",value:function(){this.state.name.length>=3?this.setState({isBtnDisabled:!1}):this.setState({isBtnDisabled:!0})}},{key:"renderLoadScreen",value:function(){var e=this.state,t=e.loadScreen,a=e.login;return!0===t?Object(g.jsx)(x,{className:"carregando-login"}):!0===a?Object(g.jsx)(p.a,{to:"Trybe-Projeto_14-Trybetunes//search"}):void 0}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.isBtnDisabled,n=this.handleChange,s=this.handleClick,i=this.renderLoadScreen;return Object(g.jsx)("section",{className:"login-section","data-testid":"page-login",children:Object(g.jsxs)("section",{className:"login-form-section",children:[Object(g.jsx)("div",{className:"img-div",children:Object(g.jsx)("img",{src:I,alt:"headset"})}),Object(g.jsxs)("h1",{children:[Object(g.jsx)("span",{className:"trybe",children:"Trybe"}),Object(g.jsx)("span",{className:"tunes",children:"Tunes"})]}),Object(g.jsxs)("form",{className:"login-form",method:"get",children:[Object(g.jsx)("input",{"data-testid":"login-name-input",type:"text",value:t,placeholder:"Insira seu nome!",onChange:n}),Object(g.jsx)("button",{"data-testid":"login-submit-button",type:"submit",onClick:s,disabled:a,children:"Entrar"})]}),Object(g.jsx)("div",{className:"carregando-div",children:i()})]})})}}]),a}(s.a.Component)),V=(a(47),function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return Object(g.jsx)("div",{"data-testid":"page-not-found",className:"not-found-div",children:Object(g.jsx)("p",{children:"Not Found"})})}}]),a}(s.a.Component)),W=V,X=(a(48),function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={user:void 0},e.getUserInfo=e.getUserInfo.bind(Object(d.a)(e)),e.renderProfile=e.renderProfile.bind(Object(d.a)(e)),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.getUserInfo()}},{key:"getUserInfo",value:function(){var e=Object(m.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:t=e.sent,this.setState({user:t});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"renderProfile",value:function(){var e=this.state.user;if(e){var t=e.name,a=e.email,n=e.image,s=e.description;return Object(g.jsxs)("section",{className:"profile",children:[Object(g.jsxs)("div",{className:"profile-image-div",children:[Object(g.jsx)("img",{"data-testid":"profile-image",src:n,alt:t}),Object(g.jsx)(j.b,{to:"/profile/edit",children:"Editar perfil"})]}),Object(g.jsxs)("p",{className:"name",children:[Object(g.jsx)("span",{children:"Nome:"}),Object(g.jsx)("span",{children:t})]}),Object(g.jsxs)("p",{className:"email",children:[Object(g.jsx)("span",{children:"Email:"}),Object(g.jsx)("span",{children:a})]}),Object(g.jsxs)("p",{className:"description",children:[Object(g.jsx)("span",{children:"Descri\xe7\xe3o:"}),Object(g.jsx)("span",{children:s})]})]})}return Object(g.jsx)(x,{className:"carregando-profile"})}},{key:"render",value:function(){var e=this.props,t=e.pesquisa,a=e.favoritas,n=e.perfil,s=e.changePage,i=e.isBtnPageDisabled,r=this.props.disableEnableBtnPage,c=this.props.match.url,o=this.renderProfile;return Object(g.jsxs)("div",{"data-testid":"page-profile",children:[Object(g.jsx)(D,{pesquisa:t,favoritas:a,perfil:n,page:c,changePage:s,isBtnPageDisabled:i,disableEnableBtnPage:r}),Object(g.jsx)("section",{className:"profile-section",children:o()})]})}}]),a}(s.a.Component)),Y=X,Z=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){var e=this.props,t=e.text,a=e.testid,n=e.type,s=e.name,i=e.value,r=e.className,c=e.maxLength,o=e.onChange;return Object(g.jsxs)("div",{className:r,children:[Object(g.jsx)("label",{htmlFor:t,children:"".concat(t," :")}),Object(g.jsx)("input",{"data-testid":a,id:t,type:n,name:s,value:i,maxLength:c,onChange:o})]})}}]),a}(s.a.Component),$=Z,ee=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"clickImage",value:function(){document.querySelector(".btn-image-input").click()}},{key:"render",value:function(){var e=this.clickImage,t=this.props,a=t.name,n=t.email,s=t.image,i=t.description,r=t.isSaveBtnDisabled,c=t.handleChange,o=t.handleClick,l="Descri\xe7\xe3o";return Object(g.jsxs)("form",{method:"get",className:"profile-edit-form",children:[Object(g.jsx)("div",{className:"image-div",children:Object(g.jsx)("img",{src:s,alt:a,"aria-hidden":"true",onClick:e})}),Object(g.jsx)("input",{className:"btn-image-input",type:"file",name:"image",accept:"image/*",onChange:c}),Object(g.jsx)($,{text:"Nome",testid:"edit-input-name",type:"text",name:"name",value:a,className:"name-div",maxLength:"50",onChange:c}),Object(g.jsx)($,{text:"Email",testid:"edit-input-email",type:"text",name:"email",value:n,className:"email-div",maxLength:"70",onChange:c}),Object(g.jsxs)("div",{className:"description-div",children:[Object(g.jsx)("label",{htmlFor:l,children:"".concat(l,": ")}),Object(g.jsx)("textarea",{testid:"edit-input-description",rows:"3",cols:"30",name:"description",value:i,maxLength:"70",onChange:c})]}),Object(g.jsx)("div",{className:"save-btn-div",children:Object(g.jsx)("button",{"data-testid":"edit-button-save",type:"submit",onClick:o,disabled:r,children:"Salvar"})})]})}}]),a}(s.a.Component),te=ee,ae=(a(49),function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={loadScreen:!0,name:"",email:"",image:"",description:"",isSaveBtnDisabled:!0,redirect:!1},e.handleChange=e.handleChange.bind(Object(d.a)(e)),e.handleClick=e.handleClick.bind(Object(d.a)(e)),e.getUrlImage=e.getUrlImage.bind(Object(d.a)(e)),e.getUserInfo=e.getUserInfo.bind(Object(d.a)(e)),e.validateSaveBtn=e.validateSaveBtn.bind(Object(d.a)(e)),e.renderProfileEdit=e.renderProfileEdit.bind(Object(d.a)(e)),e.renderRedirect=e.renderRedirect.bind(Object(d.a)(e)),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(m.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserInfo();case 2:this.validateSaveBtn();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){var t=this,a=e.target,n=a.name;if("image"===n)this.getUrlImage();else{var s=a.value;this.setState(Object(o.a)({},n,s),(function(){return t.validateSaveBtn()}))}}},{key:"handleClick",value:function(e){var t=this;e.preventDefault(),(0,this.props.disableEnableBtnPage)(!0),this.setState({loadScreen:!0},Object(m.a)(v.a.mark((function e(){var a,n,s,i,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.state,n=a.name,s=a.email,i=a.image,r=a.description,e.next=3,C({name:n,email:s,image:i,description:r});case 3:t.setState({redirect:!0});case 4:case"end":return e.stop()}}),e)}))))}},{key:"getUrlImage",value:function(){var e=this,t=document.querySelector(".btn-image-input"),a=new FileReader;a.onload=function(){var t=a.result;e.setState({image:t})},a.readAsDataURL(t.files[0])}},{key:"getUserInfo",value:function(){var e=Object(m.a)(v.a.mark((function e(){var t,a,n,s,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:t=e.sent,a=t.name,n=t.email,s=t.image,i=t.description,this.setState({loadScreen:!1,name:a,email:n,image:s,description:i});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"validateSaveBtn",value:function(){var e=this.state,t=e.name,a=e.email,n=e.image,s=e.description,i=a.split("@"),r=a.length,c=""!==t&&""!==a&&""!==n&&""!==s,o=a.includes("@")&&".com"===a.slice(r-4),l=i[0].length>0,u=2===i.length,d="@"!==a[r-5];c&&o&&l&&u&&d?this.setState({isSaveBtnDisabled:!1}):this.setState({isSaveBtnDisabled:!0})}},{key:"renderProfileEdit",value:function(){var e=this.state,t=e.loadScreen,a=e.name,n=e.email,s=e.image,i=e.description,r=e.isSaveBtnDisabled,c=this.handleChange,o=this.handleClick;return t?Object(g.jsx)(x,{className:"carregando-profile-edit"}):Object(g.jsx)("section",{children:Object(g.jsx)(te,{name:a,email:n,image:s,description:i,isSaveBtnDisabled:r,handleChange:c,handleClick:o})})}},{key:"renderRedirect",value:function(){if(this.state.redirect)return Object(g.jsx)(p.a,{to:"/profile"})}},{key:"render",value:function(){var e=this.renderProfileEdit,t=this.renderRedirect,a=this.props,n=a.pesquisa,s=a.favoritas,i=a.perfil,r=a.changePage,c=a.isBtnPageDisabled,o=this.props.disableEnableBtnPage,l=this.props.match.url;return Object(g.jsxs)("div",{"data-testid":"page-profile-edit",children:[Object(g.jsx)(D,{pesquisa:n,favoritas:s,perfil:i,changePage:r,page:l,isBtnPageDisabled:c,disableEnableBtnPage:o}),Object(g.jsxs)("section",{className:"profile-edit-section",children:[e(),t()]})]})}}]),a}(s.a.Component)),ne=ae,se=function(){var e=Object(m.a)(v.a.mark((function e(t){var a,n,s,i,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=encodeURI(t).replaceAll("%20","+"),n="https://itunes.apple.com/search?entity=album&term=".concat(a,"&attribute=allArtistTerm"),e.next=4,fetch(n);case 4:return s=e.sent,e.next=7,s.json();case 7:return i=e.sent,r=i.results,c=r.map((function(e){return{artistId:e.artistId,artistName:e.artistName,collectionId:e.collectionId,collectionName:e.collectionName,collectionPrice:e.collectionPrice,artworkUrl100:e.artworkUrl100,releaseDate:e.releaseDate,trackCount:e.trackCount}})),e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ie=se,re=(a(50),function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"renderResult",value:function(e,t){return t.length>0?Object(g.jsxs)("section",{className:"result-found",children:[Object(g.jsxs)("h2",{children:["Resultado de \xe1lbuns de:",Object(g.jsx)("br",{}),Object(g.jsx)("span",{children:" ".concat(e)})]}),Object(g.jsx)("section",{className:"albums-section",children:t.map((function(e){return Object(g.jsx)(j.b,{"data-testid":"link-to-album-".concat(e.collectionId),to:"/album/".concat(e.collectionId),children:Object(g.jsxs)("div",{className:"album",children:[Object(g.jsx)("div",{className:"image-div",children:Object(g.jsx)("img",{src:e.artworkUrl100,alt:e.collectionName})}),Object(g.jsx)("p",{className:"album-name",children:e.collectionName}),Object(g.jsx)("p",{className:"artist-name",children:e.artistName})]})},e.collectionId)}))})]}):Object(g.jsx)("section",{className:"no-result",children:Object(g.jsx)("p",{children:"Nenhum \xe1lbum foi encontrado"})})}},{key:"render",value:function(){var e=this.props,t=e.artista,a=e.albums,n=this.renderResult;return Object(g.jsx)("section",{className:"result",children:n(t,a)})}}]),a}(s.a.Component)),ce=re,oe=(a(51),function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={search:"",isSearchBtnDisabled:!0,loadScreen:!1,artista:"",albums:[],displayResults:!1},e.handleChange=e.handleChange.bind(Object(d.a)(e)),e.handleClick=e.handleClick.bind(Object(d.a)(e)),e.renderSearchInput=e.renderSearchInput.bind(Object(d.a)(e)),e.renderResults=e.renderResults.bind(Object(d.a)(e)),e}return Object(u.a)(a,[{key:"handleChange",value:function(e){var t=this,a=e.target.value;this.setState({search:a},(function(){return t.validateSearchBtn()}))}},{key:"handleClick",value:function(){var e=this,t=this.state.search,a=this.props.disableEnableBtnPage;a(!0),this.setState({artista:t,search:"",loadScreen:!0,displayResults:!1},Object(m.a)(v.a.mark((function n(){var s;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,ie(t);case 2:s=n.sent,a(!1),e.setState({albums:s,loadScreen:!1,displayResults:!0,isSearchBtnDisabled:!0});case 5:case"end":return n.stop()}}),n)}))))}},{key:"validateSearchBtn",value:function(){this.state.search.length>=2?this.setState({isSearchBtnDisabled:!1}):this.setState({isSearchBtnDisabled:!0})}},{key:"renderSearchInput",value:function(e,t){var a=this.state,n=a.loadScreen,s=a.search,i=a.isSearchBtnDisabled;return n?Object(g.jsx)(x,{className:"carregando-search"}):Object(g.jsxs)("div",{className:"input-div",children:[Object(g.jsx)("input",{"data-testid":"search-artist-input",type:"text",value:s,placeholder:"Fa\xe7a sua pesquisa!",onChange:e}),Object(g.jsx)("button",{"data-testid":"search-artist-button",type:"button",onClick:t,disabled:i,children:"Pesquisar"})]})}},{key:"renderResults",value:function(){var e=this.state,t=e.displayResults,a=e.artista,n=e.albums;if(t)return Object(g.jsx)(ce,{artista:a,albums:n})}},{key:"render",value:function(){var e=this.handleChange,t=this.handleClick,a=this.renderSearchInput,n=this.renderResults,s=this.props,i=s.pesquisa,r=s.favoritas,c=s.perfil,o=s.changePage,l=s.isBtnPageDisabled,u=this.props.disableEnableBtnPage,d=this.props.match.url;return Object(g.jsxs)("div",{"data-testid":"page-search",className:"search-div",children:[Object(g.jsx)(D,{pesquisa:i,favoritas:r,perfil:c,page:d,changePage:o,isBtnPageDisabled:l,disableEnableBtnPage:u}),a(e,t),n()]})}}]),a}(s.a.Component)),le=(a(52),"not-selected"),ue=function(e){Object(b.a)(a,e);var t=Object(h.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={search:"selected",favorites:le,profile:le,selectedPage:"search",isBtnPageDisabled:!0},e.changePage=e.changePage.bind(Object(d.a)(e)),e.disableEnableBtnPage=e.disableEnableBtnPage.bind(Object(d.a)(e)),e}return Object(u.a)(a,[{key:"changePage",value:function(e){var t,a=e.split("/")[1],n=this.state.selectedPage;this.setState((t={selectedPage:a},Object(o.a)(t,n,"not-selected"),Object(o.a)(t,a,"selected"),t))}},{key:"disableEnableBtnPage",value:function(e){this.setState({isBtnPageDisabled:e})}},{key:"render",value:function(){var e=this.state,t=e.search,a=e.favorites,n=e.profile,s=e.selectedPage,i=e.isBtnPageDisabled,r=this.disableEnableBtnPage,o=this.changePage;return Object(g.jsx)("section",{children:Object(g.jsx)(j.a,{children:Object(g.jsxs)(p.d,{children:[Object(g.jsx)(p.b,{exact:!0,path:"/Trybe-Projeto_14-Trybetunes/search",render:function(e){return Object(g.jsx)(oe,Object(c.a)(Object(c.a)({},e),{},{pesquisa:t,favoritas:a,perfil:n,changePage:o,isBtnPageDisabled:i,disableEnableBtnPage:r}))}}),Object(g.jsx)(p.b,{exact:!0,path:"/Trybe-Projeto_14-Trybetunes/album/:id",render:function(e){return Object(g.jsx)(z,Object(c.a)(Object(c.a)({},e),{},{pesquisa:t,favoritas:a,perfil:n,changePage:o,isBtnPageDisabled:i,disableEnableBtnPage:r}))}}),Object(g.jsx)(p.b,{exact:!0,path:"/Trybe-Projeto_14-Trybetunes/favorites",render:function(e){return Object(g.jsx)(H,Object(c.a)(Object(c.a)({},e),{},{pesquisa:t,favoritas:a,perfil:n,changePage:o,isBtnPageDisabled:i,disableEnableBtnPage:r}))}}),Object(g.jsx)(p.b,{exact:!0,path:"/Trybe-Projeto_14-Trybetunes/profile",render:function(e){return Object(g.jsx)(Y,Object(c.a)(Object(c.a)({},e),{},{pesquisa:t,favoritas:a,perfil:n,selectedPage:s,changePage:o,isBtnPageDisabled:i,disableEnableBtnPage:r}))}}),Object(g.jsx)(p.b,{exact:!0,path:"/Trybe-Projeto_14-Trybetunes/profile/edit",render:function(e){return Object(g.jsx)(ne,Object(c.a)(Object(c.a)({},e),{},{pesquisa:t,favoritas:a,perfil:n,selectedPage:s,changePage:o,isBtnPageDisabled:i,disableEnableBtnPage:r}))}}),Object(g.jsx)(p.b,{exact:!0,path:"/Trybe-Projeto_14-Trybetunes/",component:Q}),Object(g.jsx)(p.b,{path:"*",component:W})]})})})}}]),a}(s.a.Component);r.a.render(Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(ue,{})}),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.b525f357.chunk.js.map